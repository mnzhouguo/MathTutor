# MathTutor 项目需求清单

> **完整的** [技术架构设计](./architecture/README.md) | [开发计划](./development/README.md) | [功能详细需求](./requirements/)

## 项目定位

构建一个**1对1的AI数学私人教练**,基于AI技术的初中数学智能辅导系统。

## 核心设计理念

- **授人以渔**: 不仅教会学生做某道题,更要教会解决一类问题的方法论
- **苏格拉底式教学**: 通过提问引导思考,而非直接给出答案
- **支架式教学**: 三级渐进提示系统,根据学生需要提供恰到好处的帮助
- **可视化学习**: 动态实验工具将抽象概念转化为直观图形
- **个性化路径**: 基于学习数据智能推荐最适合的学习内容

---

## 核心功能模块

### ⭐ 1. 知识体系展示 [详情](./requirements/01-knowledge-system.md)

构建层次化的知识体系导航系统,帮助学生清晰了解所学内容的整体结构和学习进度。

**核心特性:**
- 四层层次化结构: 课程 → 模块 → 专题 → 知识点
- 年级/学期切换
- 学习进度可视化
- 响应式设计

**数据结构:**
```json
{
  "curriculum": "课程名称",
  "modules": [
    {
      "module_name": "模块名称",
      "module_tag": "标签",
      "topics": [
        {
          "topic_name": "专题名称",
          "knowledge_points": [...]
        }
      ]
    }
  ]
}
```

---

### ⭐ 2. 题库管理与结构化分解 [详情](./requirements/02-question-bank.md)

构建智能化的题库管理系统,核心在于**AI驱动的题目结构化分解**,将复杂题目拆解为可教学的逻辑链。

**核心特性:**
- AI自动生成题目逻辑链(非人工编辑)
- 三级支架式提示系统
- Few-shot学习提升AI解析准确率
- 知识库上下文注入
- 质量检查与版本管理

**逻辑链数据结构:**
```json
{
  "problem_id": "P_MATH_2024_025",
  "linked_kp": ["KP02_1", "KP02_2"],
  "logic_chain": [
    {
      "step": 1,
      "title": "静态数值破解",
      "target_kp": "KP02_1 (知识点名称)",
      "goal": "求出 a=-5, b=8",
      "scaffolding": ["提示1", "提示2", "提示3"]
    }
  ]
}
```

---

### ⭐ 3. 互动式1对1智能教学 [详情](./requirements/03-interactive-teaching.md)

核心教学场景,基于"专题→题目→逻辑链步骤"的渐进式教学路径,AI教师扮演苏格拉底式导师角色。

**教学流程:**
```
选择专题 → 加载题目 → 步骤化教学 → 支架提示 →
实验工具演示 → 完成题目 → 方法论总结
```

**核心创新: 方法论提炼与教学**

从具体题目中提炼通用解题方法论,教会学生解决一类问题的方法:

```json
{
  "methodology_id": "M_KP02_2_PURSUIT",
  "name": "数轴追及与相遇问题通法",
  "universal_steps": [
    "步骤1: 确定动点运动方程",
    "步骤2: 确定相遇/追及条件",
    "步骤3: 列方程求解"
  ],
  "typical_models": [
    "基础追及模型",
    "相向相遇模型",
    "异步追及模型"
  ],
  "common_mistakes": [
    "忽略运动方向符号",
    "忘记考虑时间差"
  ]
}
```

**能力评估:**
- 概念理解能力
- 计算能力
- 应用能力
- 方法论掌握程度

---

### ⭐ 4. 动态实验工具系统 [详情](./requirements/04-experimental-tools.md)

为抽象的数学知识点创建动态、可交互的实验工具,帮助学生通过可视化操作理解数学概念。

**核心工具类型:**

1. **数轴动点可视化工具**
   - 支持多个动点同时运动
   - 实时显示坐标、路程、速度
   - 自动标注相遇/追及时刻

2. **绝对值函数图像生成器**
   - 零点自动分段
   - 分段着色显示
   - 动态参数调整

3. **整体代入可视化工具**
   - 高亮可替换部分
   - 动画演示代入过程

4. **动态线段与中点工具**
   - 拖拽交互
   - 自动计算中点

**技术实现:**
- HTML5 Canvas / SVG渲染
- 离线AI生成工具代码
- 教学时动态调用

---

### 5. 学习报告生成 [详情](./requirements/05-learning-reports.md)

自动生成多维度的学习报告,全面了解学习进展。

**报告类型:**
- 题目学习报告(即时)
- 专题学习报告(完成专题后)
- 阶段性学习报告(每周/每月)

**报告内容:**
- 学习数据统计
- 能力雷达图
- 薄弱环节分析
- 改进建议

---

### 6. 知识扩展 [详情](./requirements/06-knowledge-extension.md)

提供相关知识点链接,帮助学生建立知识网络。

**关联类型:**
- 前置知识: 需要先掌握的基础
- 后续知识: 基于当前知识延伸的内容
- 相关知识: 同一主题的不同方法

**知识图谱:**
- 可视化知识网络
- 智能推荐学习路径
- 拓展阅读资源

---

### 7. 复习模式 [详情](./requirements/07-review-mode.md)

基于艾宾浩斯遗忘曲线,智能规划复习时机。

**复习算法:**
```
记忆保留率 = e^(-t/S)
```

**复习时机:**
- 30分钟后 → 12小时后 → 1天后 → 2天后 →
- 4天后 → 7天后 → 15天后

**动态调整:**
- 答对 → 延长间隔
- 答错 → 重新开始复习序列

---

## 核心数据模型

### 知识库结构
```
课程(Curriculum)
  └─ 模块(Module)
      └─ 专题(Topic)
          └─ 知识点(Knowledge Point)
```

### 题库结构
```
题目(Problem)
  ├─ 基本信息: ID, 类型, 难度, 来源
  ├─ 关联知识点: linked_kp[]
  └─ 逻辑链: logic_chain[]
      └─ 步骤: Step
          ├─ 目标知识点
          ├─ 步骤目标
          └─ 三级提示: scaffolding[]
```

### 方法论结构
```
方法论(Methodology)
  ├─ 核心原理
  ├─ 通用步骤: universal_steps[]
  ├─ 典型模型: typical_models[]
  ├─ 常见错误: common_mistakes[]
  └─ 关键洞察: key_insights[]
```

---

## 非功能性需求

### 性能要求
- 页面加载时间 < 2秒
- API响应时间 < 500ms
- AI解析时间 < 10秒
- 实验工具流畅度 ≥ 60fps

### 可用性要求
- 系统可用性 ≥ 99.5%
- AI服务可用性 ≥ 99%
- 数据持久化可靠性 ≥ 99.9%

### 兼容性要求
- 支持主流浏览器(Chrome/Firefox/Safari/Edge)最新版本
- 支持移动端(H5响应式)
- 支持平板设备

### 安全性要求
- 用户密码加密存储
- HTTPS传输加密
- SQL注入/XSS/CSRF防护
- API访问限流

---

## 成功指标

### 学习效果
- 平均正确率提升 ≥ 20%
- 知识点掌握度提升速度 ≥ 30%
- 方法论掌握程度 ≥ 70%

### 用户参与
- 日活跃用户留存率 ≥ 40%
- 平均学习时长 ≥ 30分钟/天
- 复习完成率 ≥ 80%

### 系统性能
- AI解析准确率 ≥ 85%
- 页面加载时间 < 2秒
- 实验工具流畅度 ≥ 60fps

---

## 参考文档

- **[技术架构设计](./architecture/README.md)** - 详细的技术选型、系统架构、数据库设计、API设计
- **[开发计划](./development/README.md)** - 开发优先级、里程碑计划、团队分工、风险管理
- **[功能详细需求](./requirements/)** - 各功能模块的完整需求文档
- [项目文档](./guide/README.md) - 项目概述和知识库结构说明
- [UI/UX设计规范](./design/README.md) - 设计理念和组件规范
- [知识库示例文件](../knowledge_base/grade7_sem1_advanced_topics.json)
